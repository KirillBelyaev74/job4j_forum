create table posts
(
    id          serial primary key,
    name        varchar(50) not null,
    description text,
    created     timestamp without time zone not null default now()
);

CREATE TABLE authority
(
    id        serial primary key,
    authority VARCHAR(50) NOT NULL unique
);

CREATE TABLE users
(
    id           serial primary key,
    username     VARCHAR(50)  NOT NULL unique,
    password     VARCHAR(100) NOT NULL,
    enabled      boolean default true,
    authority_id int          not null references authority (id)
);

insert into authority (authority) values ('ROLE_USER');

insert into users (username, password, authority_id)
values ('user', '$2a$10$Mpwd78psdMERocWcrxJ4g.IKuUlmJt9x4nV4x8fvfWi1Ma2nGT/wW',
        (select id from authority where authority = 'ROLE_USER'));